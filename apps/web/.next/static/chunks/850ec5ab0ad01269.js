(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75066,e=>{e.v({container:"GrafanaDashboard-module__ws7coa__container",frameContainer:"GrafanaDashboard-module__ws7coa__frameContainer",header:"GrafanaDashboard-module__ws7coa__header",iframe:"GrafanaDashboard-module__ws7coa__iframe",openButton:"GrafanaDashboard-module__ws7coa__openButton",placeholder:"GrafanaDashboard-module__ws7coa__placeholder",placeholderContent:"GrafanaDashboard-module__ws7coa__placeholderContent",placeholderText:"GrafanaDashboard-module__ws7coa__placeholderText",placeholderTitle:"GrafanaDashboard-module__ws7coa__placeholderTitle",title:"GrafanaDashboard-module__ws7coa__title"})},2528,e=>{"use strict";var s=e.i(32975),a=e.i(75066);function t({url:e,title:t="System Monitoring"}){return(0,s.jsxs)("div",{className:a.default.container,children:[(0,s.jsx)("div",{className:a.default.header,children:(0,s.jsx)("h2",{className:a.default.title,children:t})}),(0,s.jsx)("div",{className:a.default.placeholder,children:(0,s.jsxs)("div",{className:a.default.placeholderContent,children:[(0,s.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,s.jsx)("path",{d:"M3 3v18h18"}),(0,s.jsx)("path",{d:"M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"})]}),(0,s.jsx)("h3",{className:a.default.placeholderTitle,children:"Grafana Dashboard"}),(0,s.jsxs)("p",{className:a.default.placeholderText,children:["Grafana Cloud doesn't allow iframe embedding due to security restrictions.",(0,s.jsx)("br",{}),"Click below to view your dashboard in a new tab."]}),(0,s.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:a.default.openButton,children:[(0,s.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,s.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,s.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"Open Grafana Dashboard"]})]})})]})}e.s(["default",()=>t])},80944,e=>{e.v({connected:"ServerStatus-module__Q-g1La__connected",connectionAddress:"ServerStatus-module__Q-g1La__connectionAddress",connectionIcon:"ServerStatus-module__Q-g1La__connectionIcon",connectionInfo:"ServerStatus-module__Q-g1La__connectionInfo",connectionItem:"ServerStatus-module__Q-g1La__connectionItem",connectionLabel:"ServerStatus-module__Q-g1La__connectionLabel",connectionList:"ServerStatus-module__Q-g1La__connectionList",connectionRow:"ServerStatus-module__Q-g1La__connectionRow",container:"ServerStatus-module__Q-g1La__container",count:"ServerStatus-module__Q-g1La__count",disconnected:"ServerStatus-module__Q-g1La__disconnected",error:"ServerStatus-module__Q-g1La__error",errorText:"ServerStatus-module__Q-g1La__errorText",header:"ServerStatus-module__Q-g1La__header",hint:"ServerStatus-module__Q-g1La__hint",infoGrid:"ServerStatus-module__Q-g1La__infoGrid",infoItem:"ServerStatus-module__Q-g1La__infoItem",infoLabel:"ServerStatus-module__Q-g1La__infoLabel",infoValue:"ServerStatus-module__Q-g1La__infoValue",loading:"ServerStatus-module__Q-g1La__loading",noConnections:"ServerStatus-module__Q-g1La__noConnections",placeholder:"ServerStatus-module__Q-g1La__placeholder",pulse:"ServerStatus-module__Q-g1La__pulse",section:"ServerStatus-module__Q-g1La__section",sectionTitle:"ServerStatus-module__Q-g1La__sectionTitle",spin:"ServerStatus-module__Q-g1La__spin",spinner:"ServerStatus-module__Q-g1La__spinner",statusBadge:"ServerStatus-module__Q-g1La__statusBadge",statusDot:"ServerStatus-module__Q-g1La__statusDot",success:"ServerStatus-module__Q-g1La__success",suspendButton:"ServerStatus-module__Q-g1La__suspendButton",suspendMessage:"ServerStatus-module__Q-g1La__suspendMessage",suspendResult:"ServerStatus-module__Q-g1La__suspendResult",suspendResultHeader:"ServerStatus-module__Q-g1La__suspendResultHeader",title:"ServerStatus-module__Q-g1La__title"})},78652,e=>{"use strict";var s=e.i(32975),a=e.i(36363),t=e.i(80944);function n(){var e;let[n,r]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[d,c]=(0,a.useState)(!1),[i,u]=(0,a.useState)(null),_=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/agent/ssh"),s=await e.json();r(s)}catch(e){console.error("Failed to fetch SSH status:",e),r({success:!1,error:"Network error",agentOffline:!0})}finally{o(!1)}},[]);async function h(){if(!d){c(!0),u(null);try{let e=await fetch("/api/agent/suspend",{method:"POST"}),s=await e.json();u(s)}catch(e){u({success:!1,message:e instanceof Error?e.message:"Network error"})}finally{c(!1)}}}if((0,a.useEffect)(()=>{_();let e=setInterval(_,5e3);return()=>clearInterval(e)},[_]),l)return(0,s.jsx)("div",{className:t.default.container,children:(0,s.jsx)("div",{className:t.default.loading,children:"Loading server status..."})});let f=n?.success&&!n?.agentOffline,m=n?.connections||[];return(0,s.jsxs)("div",{className:t.default.container,children:[(0,s.jsxs)("div",{className:t.default.header,children:[(0,s.jsx)("h2",{className:t.default.title,children:"Server Status"}),(0,s.jsxs)("div",{className:`${t.default.statusBadge} ${f?t.default.connected:t.default.disconnected}`,children:[(0,s.jsx)("span",{className:t.default.statusDot}),f?"Agent Connected":n?.agentOffline?"Agent Offline":"Disconnected"]})]}),f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:t.default.infoGrid,children:[(0,s.jsxs)("div",{className:t.default.infoItem,children:[(0,s.jsx)("span",{className:t.default.infoLabel,children:"Hostname"}),(0,s.jsx)("span",{className:t.default.infoValue,children:n?.hostname||"Unknown"})]}),(0,s.jsxs)("div",{className:t.default.infoItem,children:[(0,s.jsx)("span",{className:t.default.infoLabel,children:"Last Update"}),(0,s.jsx)("span",{className:t.default.infoValue,children:(e=n?.timestamp)?new Date(e).toLocaleTimeString():"Never"})]})]}),(0,s.jsxs)("div",{className:t.default.section,children:[(0,s.jsxs)("h3",{className:t.default.sectionTitle,children:["SSH Connections",(0,s.jsx)("span",{className:t.default.count,children:m.length})]}),m.length>0?(0,s.jsx)("div",{className:t.default.connectionList,children:m.map((e,a)=>(0,s.jsxs)("div",{className:t.default.connectionItem,children:[(0,s.jsx)("div",{className:t.default.connectionIcon,children:(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),(0,s.jsx)("polyline",{points:"10 17 15 12 10 7"}),(0,s.jsx)("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]})}),(0,s.jsxs)("div",{className:t.default.connectionInfo,children:[(0,s.jsxs)("div",{className:t.default.connectionRow,children:[(0,s.jsx)("span",{className:t.default.connectionLabel,children:"Local:"}),(0,s.jsxs)("span",{className:t.default.connectionAddress,children:[e.localAddress,":",e.localPort]})]}),(0,s.jsxs)("div",{className:t.default.connectionRow,children:[(0,s.jsx)("span",{className:t.default.connectionLabel,children:"Peer:"}),(0,s.jsxs)("span",{className:t.default.connectionAddress,children:[e.remoteAddress,":",e.remotePort]})]})]})]},a))}):(0,s.jsx)("div",{className:t.default.noConnections,children:"No active SSH connections"})]}),(0,s.jsxs)("div",{className:t.default.section,children:[(0,s.jsx)("h3",{className:t.default.sectionTitle,children:"Power Control"}),(0,s.jsxs)("button",{className:`${t.default.suspendButton} ${d?t.default.loading:""}`,onClick:h,disabled:d,children:[d?(0,s.jsx)("svg",{className:t.default.spinner,viewBox:"0 0 24 24",children:(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeDasharray:"60",strokeDashoffset:"45"})}):(0,s.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("line",{x1:"10",y1:"15",x2:"10",y2:"9"}),(0,s.jsx)("line",{x1:"14",y1:"15",x2:"14",y2:"9"})]}),d?"Suspending...":"Suspend Server"]}),i&&(0,s.jsxs)("div",{className:`${t.default.suspendResult} ${i.success?t.default.success:t.default.error}`,children:[(0,s.jsxs)("div",{className:t.default.suspendResultHeader,children:[i.success?(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,s.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}):(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,s.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),(0,s.jsx)("span",{children:i.success?"Success":"Error"})]}),(0,s.jsx)("pre",{className:t.default.suspendMessage,children:i.message})]})]})]}):(0,s.jsxs)("div",{className:t.default.placeholder,children:[(0,s.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,s.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}),(0,s.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,s.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),(0,s.jsx)("p",{children:"Agent not connected"}),(0,s.jsxs)("p",{className:t.default.hint,children:["Start the agent on your server:",(0,s.jsx)("br",{}),(0,s.jsx)("code",{children:"pnpm agent"})]}),n?.error&&(0,s.jsx)("p",{className:t.default.errorText,children:n.error})]})]})}e.s(["default",()=>n])}]);