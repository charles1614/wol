module.exports=[54659,a=>{a.v({container:"GrafanaDashboard-module__ws7coa__container",frameContainer:"GrafanaDashboard-module__ws7coa__frameContainer",header:"GrafanaDashboard-module__ws7coa__header",iframe:"GrafanaDashboard-module__ws7coa__iframe",openButton:"GrafanaDashboard-module__ws7coa__openButton",placeholder:"GrafanaDashboard-module__ws7coa__placeholder",placeholderContent:"GrafanaDashboard-module__ws7coa__placeholderContent",placeholderText:"GrafanaDashboard-module__ws7coa__placeholderText",placeholderTitle:"GrafanaDashboard-module__ws7coa__placeholderTitle",title:"GrafanaDashboard-module__ws7coa__title"})},53368,a=>{"use strict";var b=a.i(4352),c=a.i(54659);function d({url:a,title:d="System Monitoring"}){return(0,b.jsxs)("div",{className:c.default.container,children:[(0,b.jsx)("div",{className:c.default.header,children:(0,b.jsx)("h2",{className:c.default.title,children:d})}),(0,b.jsx)("div",{className:c.default.placeholder,children:(0,b.jsxs)("div",{className:c.default.placeholderContent,children:[(0,b.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,b.jsx)("path",{d:"M3 3v18h18"}),(0,b.jsx)("path",{d:"M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"})]}),(0,b.jsx)("h3",{className:c.default.placeholderTitle,children:"Grafana Dashboard"}),(0,b.jsxs)("p",{className:c.default.placeholderText,children:["Grafana Cloud doesn't allow iframe embedding due to security restrictions.",(0,b.jsx)("br",{}),"Click below to view your dashboard in a new tab."]}),(0,b.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:c.default.openButton,children:[(0,b.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,b.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,b.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"Open Grafana Dashboard"]})]})})]})}a.s(["default",()=>d])},15822,a=>{a.v({connected:"ServerStatus-module__Q-g1La__connected",connectionAddress:"ServerStatus-module__Q-g1La__connectionAddress",connectionIcon:"ServerStatus-module__Q-g1La__connectionIcon",connectionInfo:"ServerStatus-module__Q-g1La__connectionInfo",connectionItem:"ServerStatus-module__Q-g1La__connectionItem",connectionLabel:"ServerStatus-module__Q-g1La__connectionLabel",connectionList:"ServerStatus-module__Q-g1La__connectionList",connectionRow:"ServerStatus-module__Q-g1La__connectionRow",container:"ServerStatus-module__Q-g1La__container",count:"ServerStatus-module__Q-g1La__count",disconnected:"ServerStatus-module__Q-g1La__disconnected",error:"ServerStatus-module__Q-g1La__error",errorText:"ServerStatus-module__Q-g1La__errorText",header:"ServerStatus-module__Q-g1La__header",hint:"ServerStatus-module__Q-g1La__hint",infoGrid:"ServerStatus-module__Q-g1La__infoGrid",infoItem:"ServerStatus-module__Q-g1La__infoItem",infoLabel:"ServerStatus-module__Q-g1La__infoLabel",infoValue:"ServerStatus-module__Q-g1La__infoValue",loading:"ServerStatus-module__Q-g1La__loading",noConnections:"ServerStatus-module__Q-g1La__noConnections",placeholder:"ServerStatus-module__Q-g1La__placeholder",pulse:"ServerStatus-module__Q-g1La__pulse",section:"ServerStatus-module__Q-g1La__section",sectionTitle:"ServerStatus-module__Q-g1La__sectionTitle",spin:"ServerStatus-module__Q-g1La__spin",spinner:"ServerStatus-module__Q-g1La__spinner",statusBadge:"ServerStatus-module__Q-g1La__statusBadge",statusDot:"ServerStatus-module__Q-g1La__statusDot",success:"ServerStatus-module__Q-g1La__success",suspendButton:"ServerStatus-module__Q-g1La__suspendButton",suspendMessage:"ServerStatus-module__Q-g1La__suspendMessage",suspendResult:"ServerStatus-module__Q-g1La__suspendResult",suspendResultHeader:"ServerStatus-module__Q-g1La__suspendResultHeader",title:"ServerStatus-module__Q-g1La__title"})},54877,a=>{"use strict";var b=a.i(4352),c=a.i(90988),d=a.i(15822);function e(){var a;let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),m=(0,c.useCallback)(async()=>{try{let a=await fetch("/api/agent/ssh"),b=await a.json();f(b)}catch(a){console.error("Failed to fetch SSH status:",a),f({success:!1,error:"Network error",agentOffline:!0})}finally{h(!1)}},[]);async function n(){if(!i){j(!0),l(null);try{let a=await fetch("/api/agent/suspend",{method:"POST"}),b=await a.json();l(b)}catch(a){l({success:!1,message:a instanceof Error?a.message:"Network error"})}finally{j(!1)}}}if((0,c.useEffect)(()=>{m();let a=setInterval(m,5e3);return()=>clearInterval(a)},[m]),g)return(0,b.jsx)("div",{className:d.default.container,children:(0,b.jsx)("div",{className:d.default.loading,children:"Loading server status..."})});let o=e?.success&&!e?.agentOffline,p=e?.connections||[];return(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsxs)("div",{className:d.default.header,children:[(0,b.jsx)("h2",{className:d.default.title,children:"Server Status"}),(0,b.jsxs)("div",{className:`${d.default.statusBadge} ${o?d.default.connected:d.default.disconnected}`,children:[(0,b.jsx)("span",{className:d.default.statusDot}),o?"Agent Connected":e?.agentOffline?"Agent Offline":"Disconnected"]})]}),o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:d.default.infoGrid,children:[(0,b.jsxs)("div",{className:d.default.infoItem,children:[(0,b.jsx)("span",{className:d.default.infoLabel,children:"Hostname"}),(0,b.jsx)("span",{className:d.default.infoValue,children:e?.hostname||"Unknown"})]}),(0,b.jsxs)("div",{className:d.default.infoItem,children:[(0,b.jsx)("span",{className:d.default.infoLabel,children:"Last Update"}),(0,b.jsx)("span",{className:d.default.infoValue,children:(a=e?.timestamp)?new Date(a).toLocaleTimeString():"Never"})]})]}),(0,b.jsxs)("div",{className:d.default.section,children:[(0,b.jsxs)("h3",{className:d.default.sectionTitle,children:["SSH Connections",(0,b.jsx)("span",{className:d.default.count,children:p.length})]}),p.length>0?(0,b.jsx)("div",{className:d.default.connectionList,children:p.map((a,c)=>(0,b.jsxs)("div",{className:d.default.connectionItem,children:[(0,b.jsx)("div",{className:d.default.connectionIcon,children:(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),(0,b.jsx)("polyline",{points:"10 17 15 12 10 7"}),(0,b.jsx)("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]})}),(0,b.jsxs)("div",{className:d.default.connectionInfo,children:[(0,b.jsxs)("div",{className:d.default.connectionRow,children:[(0,b.jsx)("span",{className:d.default.connectionLabel,children:"Local:"}),(0,b.jsxs)("span",{className:d.default.connectionAddress,children:[a.localAddress,":",a.localPort]})]}),(0,b.jsxs)("div",{className:d.default.connectionRow,children:[(0,b.jsx)("span",{className:d.default.connectionLabel,children:"Peer:"}),(0,b.jsxs)("span",{className:d.default.connectionAddress,children:[a.remoteAddress,":",a.remotePort]})]})]})]},c))}):(0,b.jsx)("div",{className:d.default.noConnections,children:"No active SSH connections"})]}),(0,b.jsxs)("div",{className:d.default.section,children:[(0,b.jsx)("h3",{className:d.default.sectionTitle,children:"Power Control"}),(0,b.jsxs)("button",{className:`${d.default.suspendButton} ${i?d.default.loading:""}`,onClick:n,disabled:i,children:[i?(0,b.jsx)("svg",{className:d.default.spinner,viewBox:"0 0 24 24",children:(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeDasharray:"60",strokeDashoffset:"45"})}):(0,b.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("line",{x1:"10",y1:"15",x2:"10",y2:"9"}),(0,b.jsx)("line",{x1:"14",y1:"15",x2:"14",y2:"9"})]}),i?"Suspending...":"Suspend Server"]}),k&&(0,b.jsxs)("div",{className:`${d.default.suspendResult} ${k.success?d.default.success:d.default.error}`,children:[(0,b.jsxs)("div",{className:d.default.suspendResultHeader,children:[k.success?(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,b.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}):(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,b.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),(0,b.jsx)("span",{children:k.success?"Success":"Error"})]}),(0,b.jsx)("pre",{className:d.default.suspendMessage,children:k.message})]})]})]}):(0,b.jsxs)("div",{className:d.default.placeholder,children:[(0,b.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,b.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}),(0,b.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,b.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),(0,b.jsx)("p",{children:"Agent not connected"}),(0,b.jsxs)("p",{className:d.default.hint,children:["Start the agent on your server:",(0,b.jsx)("br",{}),(0,b.jsx)("code",{children:"pnpm agent"})]}),e?.error&&(0,b.jsx)("p",{className:d.default.errorText,children:e.error})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=apps_web_components_8f4f8be7._.js.map